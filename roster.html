<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BLMS Science Olympiad ‚Äî Team Roster</title>
<style>
:root {
  --bg-light: radial-gradient(1200px 800px at 10% -10%, #e7eeff, transparent 60%),
              radial-gradient(1400px 900px at 110% 120%, #e9d9ff, transparent 60%),
              linear-gradient(#eef3f9,#fafbff);
  --bg-dark: radial-gradient(1200px 800px at 15% -10%, #0f1320, transparent 60%),
             radial-gradient(1400px 900px at 110% 120%, #1a1227, transparent 60%),
             linear-gradient(#0b0d12,#141720);
  --text:#111318;
  --text-weak:#1c1f26cc;
  --card:rgba(255,255,255,.35);
  --card-bd:rgba(255,255,255,.25);
  --shadow:rgba(0,0,0,.18);
}
[data-theme="dark"]{
  --text:#f4f6ff;
  --text-weak:#cfd5ffcc;
  --card:rgba(36,38,46,.55);
  --card-bd:rgba(255,255,255,.18);
  --shadow:rgba(0,0,0,.6);
}
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Segoe UI",Roboto,Arial,sans-serif;
  background:var(--bg-light);color:var(--text);
  min-height:100vh;overflow-x:hidden;transition:background .4s,color .4s;
}
[data-theme="dark"] body{background:var(--bg-dark);}

/* --- NAV + TOGGLE --- */
.nav{position:fixed;top:18px;left:20px;z-index:10;display:flex;gap:14px;
  padding:10px 16px;background:rgba(255,255,255,0.25);
  backdrop-filter:blur(14px);border-radius:999px;
  border:1px solid rgba(255,255,255,0.3);}
[data-theme="dark"] .nav{background:rgba(36,38,46,.5);}
.nav a{color:var(--text);text-decoration:none;font-weight:600;font-size:.95rem;}
.nav a:hover{color:#007aff;}
.nav a.active{-webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background:linear-gradient(90deg,#007aff,#9b7bff);}
.toggle{position:fixed;top:18px;right:20px;z-index:10;padding:8px 16px;
  border-radius:999px;border:1px solid var(--card-bd);
  background:rgba(255,255,255,.25);backdrop-filter:blur(14px);cursor:pointer;}

/* --- HEADER --- */
header{text-align:center;padding:60px 20px 10px;}
h1{font-size:2.4rem;font-weight:800;background:linear-gradient(90deg,#007aff,#9b7bff);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.tag{opacity:.75;margin-top:8px;}

/* --- FILTER --- */
.filter-bar{text-align:center;margin:20px 0 10px;}
.filter-bar select{padding:10px 16px;border-radius:10px;border:1px solid var(--card-bd);
  background:rgba(255,255,255,0.7);font-size:1rem;cursor:pointer;}
[data-theme="dark"] .filter-bar select{background:rgba(36,38,46,0.7);color:var(--text);}

/* --- GRID & CARDS --- */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:32px;max-width:1200px;padding:32px 20px 100px;margin:0 auto;}
.flip-card{perspective:1000px;height:240px;}
.flip-inner{position:relative;width:100%;height:100%;transform-style:preserve-3d;
  transition:transform .8s cubic-bezier(.2,.65,.2,1);}
.flip-card:hover .flip-inner,.flip-card.flipped .flip-inner{transform:rotateY(180deg);}
.face{position:absolute;inset:0;border-radius:22px;background:var(--card);
  border:1px solid var(--card-bd);backdrop-filter:blur(30px) saturate(180%);
  box-shadow:0 14px 30px var(--shadow);display:flex;flex-direction:column;
  align-items:center;justify-content:center;backface-visibility:hidden;padding:20px;}
.front h3{font-weight:800;font-size:1.4rem;line-height:1.2;text-align:center;
  word-wrap:break-word;overflow-wrap:break-word;max-width:90%;}
.back{transform:rotateY(180deg);padding:22px;text-align:left;overflow:auto;}
.back ul{list-style:none;padding-left:0;}
.back li{margin:4px 0;font-size:1rem;color:var(--text-weak);}
.edit-btn{margin-top:10px;padding:6px 12px;border:none;border-radius:8px;
  background:linear-gradient(90deg,#007aff,#9b7bff);color:#fff;font-weight:600;cursor:pointer;display:none;}
.teacher .edit-btn{display:inline-block;}
@keyframes fadeInUp{from{opacity:0;transform:translateY(15px);}to{opacity:1;transform:translateY(0);}}

/* --- LOGIN PANEL (teacher only toggle) --- */
#loginPanel{position:fixed;bottom:20px;right:20px;z-index:10;}
#loginPanel input{padding:6px 8px;border-radius:6px;border:1px solid #ccc;}
#loginPanel button{padding:6px 10px;border:none;border-radius:6px;
  background:#007aff;color:white;cursor:pointer;margin-left:6px;}
</style>
</head>
<body>

<nav class="nav">
  <a href="index.html" data-page="index">üè† Home</a>
  <a href="roster.html" data-page="roster">üë• Team Roster</a>
  <a href="tournaments.html" data-page="tournaments">üèÜ Tournaments</a>
  <a href="attendance-tracker.html" data-page="attendance-tracker">üóìÔ∏è Attendance Tracker</a>
  <a href="attendance-report.html" data-page="attendance-report">üìä Attendance Report</a>
</nav>

<button class="toggle" id="modeToggle">‚òÄÔ∏è Light / üåô Dark</button>

<header>
  <h1>Team Roster</h1>
  <p class="tag">Flip cards to view events ¬∑ Teachers can log in to edit</p>
</header>

<div class="filter-bar">
  <select id="eventFilter"><option value="All">All Events</option></select>
</div>

<main class="grid" id="grid"></main>

<!-- simple login toggle (students can still see everything) -->
<div id="loginPanel">
  <input type="password" id="pw" placeholder="Teacher password">
  <button id="loginBtn">Login</button>
</div>

<script>
/* theme toggle */
document.getElementById("modeToggle").onclick=()=>{const h=document.documentElement;
  h.dataset.theme=h.dataset.theme==="dark"?"light":"dark";};

/* highlight current page */
const cur=location.pathname.split("/").pop().replace(".html","");
document.querySelectorAll(".nav a").forEach(a=>{
  if(a.dataset.page===cur||(cur===""&&a.dataset.page==="index"))a.classList.add("active");
});

/* teacher login */
const PW="blms2025";
document.getElementById("loginBtn").onclick=()=>{
  const val=document.getElementById("pw").value.trim();
  if(val===PW){
    sessionStorage.setItem("teacherMode","1");
    document.body.classList.add("teacher");
    alert("‚úÖ Teacher mode enabled");
    showTeacherToolbar();
  } else alert("Incorrect password");
};
if(sessionStorage.getItem("teacherMode")==="1"){
  document.body.classList.add("teacher");
  showTeacherToolbar();
}

/* data */
let students=[
  {name:"Aarav Mandhar",events:["Rocks and Minerals","Codebusters","Boomilever"]},
  {name:"Anay Chatterjee",events:["Metric Mastery","Helicopter","Heredity","Experimental Design"]},
  {name:"Edmund Bao",events:["Boomilever","Helicopter","Scrambler","Potions and Poisons","Hovercraft","Crime Busters","Disease Detectives","Heredity","Codebusters"]},
  {name:"Joann Antony",events:["Disease Detectives","Scrambler","Boomilever"]},
  {name:"Sanvi Byreddy",events:["Disease Detectives","Heredity","Water Quality","Dynamic Planet"]},
  {name:"Shreya Ayyalasomayajula",events:["Anatomy and Physiology","Entomology","Heredity","Dynamic Planet"]},
  {name:"Yvaine Wang",events:["Anatomy and Physiology","Disease Detectives","Potions and Poisons","Heredity","Crime Busters"]}
];

/* build cards */
const grid=document.getElementById("grid");
function build(list){
  grid.innerHTML="";
  list.forEach((s,i)=>{
    const c=document.createElement("div");
    c.className="flip-card";
    const inner=document.createElement("div");
    inner.className="flip-inner";
    const f=document.createElement("div");
    f.className="face front";
    f.innerHTML=`<h3>${s.name}</h3>`;
    const b=document.createElement("div");
    b.className="face back";
    b.innerHTML=`<ul>${s.events.map(e=>`<li>${e}</li>`).join("")}</ul>
      <button class='edit-btn'>‚úèÔ∏è Edit</button>
      <button class='delete-btn' style='display:none;'>üóëÔ∏è Delete</button>`;
    inner.append(f,b); c.append(inner); grid.append(c);

    const editBtn=b.querySelector(".edit-btn");
    const delBtn=b.querySelector(".delete-btn");
    editBtn.onclick=e=>{e.stopPropagation();edit(i);};
    delBtn.onclick=e=>{e.stopPropagation();deleteStudent(i);};

    c.onclick=()=>c.classList.toggle("flipped");
  });

  // show delete buttons only in teacher mode
  if(document.body.classList.contains("teacher")){
    document.querySelectorAll(".delete-btn").forEach(btn=>btn.style.display="inline-block");
  }
}

/* edit */
function edit(i){
  const s=students[i];
  const n=prompt("Edit student name:",s.name);
  if(!n)return;
  const ev=prompt("Edit events (; separated):",s.events.join("; "));
  students[i]={name:n.trim(),events:ev.split(/;|,/).map(x=>x.trim()).filter(Boolean)};
  populate();build(students);
}

/* add */
function addStudent(){
  const n=prompt("Enter new student name:");
  if(!n)return;
  const ev=prompt("Enter events (; separated):","");
  students.push({name:n.trim(),events:ev.split(/;|,/).map(x=>x.trim()).filter(Boolean)});
  populate();build(students);
}

/* delete */
function deleteStudent(i){
  if(confirm(`Delete ${students[i].name}?`)){
    students.splice(i,1);
    populate();build(students);
  }
}

/* teacher toolbar */
function showTeacherToolbar(){
  if(document.getElementById("teacherTools")) return;
  const bar=document.createElement("div");
  bar.id="teacherTools";
  bar.style.textAlign="center";
  bar.style.margin="20px";
  bar.innerHTML=`
    <button id="addBtn" style="padding:10px 14px;border:none;border-radius:8px;background:#10b981;color:#fff;font-weight:600;margin-right:10px;cursor:pointer;">‚ûï Add Student</button>
    <button id="deleteBtn" style="padding:10px 14px;border:none;border-radius:8px;background:#ef4444;color:#fff;font-weight:600;cursor:pointer;">‚ùå Delete Student (select via card)</button>
  `;
  document.querySelector("header").after(bar);
  document.getElementById("addBtn").onclick=addStudent;
  document.getElementById("deleteBtn").onclick=()=>alert("You can delete from each card‚Äôs back üóëÔ∏è or here later we'll add a picker.");
}

/* populate filter */
function populate(){
  const sel=document.getElementById("eventFilter");
  const evs=[...new Set(students.flatMap(s=>s.events))].sort();
  sel.innerHTML="<option value='All'>All Events</option>";
  evs.forEach(e=>{
    const o=document.createElement("option");
    o.value=e;o.textContent=e;
    sel.append(o);
  });
}
document.getElementById("eventFilter").onchange=e=>{
  const v=e.target.value;
  if(v==="All")build(students);
  else build(students.filter(s=>s.events.includes(v)));
};

/* initial */
populate();build(students);
</script>
</body>
</html>
